---
const navigation = [
  { name: "Home", href: "/" },
  { name: "Blog", href: "/blog" },
  { name: "Categories", href: "/categories" },
  { name: "About", href: "/about" },
];

const currentPath = Astro.url.pathname;
---

<header class="sticky top-0 z-50 w-full border-b border-border/40 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60">
  <div class="max-w-7xl mx-auto flex h-16 items-center justify-between px-4 sm:px-6 lg:px-8">
    <a href="/" class="flex items-center">
      <span class="font-heading font-bold text-xl sm:text-2xl tracking-tight text-slate-900">
        Company<span class="text-primary">Blog</span>
      </span>
    </a>

    <nav class="hidden md:flex items-center gap-1">
      {navigation.map((item) => (
        <a
          href={item.href}
          class:list={[
            "px-4 py-2 rounded-md text-sm font-medium transition-colors",
            currentPath === item.href || (item.href !== "/" && currentPath.startsWith(item.href))
              ? "text-primary font-semibold bg-primary/5"
              : "text-slate-600 hover:bg-slate-100 hover:text-slate-900"
          ]}
        >
          {item.name}
        </a>
      ))}
    </nav>

    <div class="hidden md:flex items-center">
      <a
        href="/contact"
        class="inline-flex items-center px-4 py-2 bg-primary text-primary-foreground text-sm font-semibold rounded-lg hover:bg-primary/90 transition-colors"
      >
        Contact Us
      </a>
    </div>

    <!-- Mobile menu button -->
    <button
      type="button"
      class="md:hidden inline-flex items-center justify-center rounded-md p-2 text-slate-600 hover:bg-slate-100 hover:text-slate-900"
      id="mobile-menu-button"
      aria-expanded="false"
    >
      <span class="sr-only">Open main menu</span>
      <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
      </svg>
    </button>
  </div>

  <!-- Mobile menu -->
  <div class="hidden md:hidden" id="mobile-menu">
    <div class="px-4 pb-4 pt-2 space-y-1">
      {navigation.map((item) => (
        <a
          href={item.href}
          class:list={[
            "block px-4 py-3 rounded-md text-base font-medium border-b border-slate-100 last:border-0",
            currentPath === item.href || (item.href !== "/" && currentPath.startsWith(item.href))
              ? "text-primary font-semibold"
              : "text-slate-600 hover:bg-slate-50 hover:text-slate-900"
          ]}
        >
          {item.name}
        </a>
      ))}
      <a
        href="/contact"
        class="block px-4 py-3 mt-2 bg-primary text-primary-foreground text-center font-semibold rounded-lg"
      >
        Contact Us
      </a>
    </div>
  </div>
</header>

<script>
  const button = document.getElementById("mobile-menu-button");
  const menu = document.getElementById("mobile-menu");

  button?.addEventListener("click", () => {
    const expanded = button.getAttribute("aria-expanded") === "true";
    button.setAttribute("aria-expanded", (!expanded).toString());
    menu?.classList.toggle("hidden");
  });
</script>
