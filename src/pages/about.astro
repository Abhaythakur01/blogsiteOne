---
import Layout from "../layouts/Layout.astro";
import { getAuthors, urlFor } from "../lib/sanity";
import { QuoteModal } from "../components/react/Modals";

const authors = await getAuthors();

const siteUrl = Astro.site?.href || "https://astro-blog-five-zeta.vercel.app";
const web3formsKey = import.meta.env.PUBLIC_WEB3FORMS_KEY || "";
---

<Layout
  title="About Us"
  description="Built by someone who's been in your shoes. Unicalibre Estimating was founded to bridge the gap between rough estimates and install-ready precision."
>
  <Fragment slot="head">
    <script type="application/ld+json" set:html={JSON.stringify({
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "Unicalibre Estimating",
      "url": siteUrl,
      "description": "Professional quantity takeoff services for construction trades.",
      "founder": {
        "@type": "Person",
        "name": "Founder",
        "jobTitle": "Founder, Unicalibre Estimating"
      }
    })} />
  </Fragment>

  <!-- Hero -->
  <section class="py-24 bg-slate-50 border-b border-slate-200">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <h1 class="text-4xl md:text-6xl font-bold text-slate-900 mb-8">Built by Someone Who's Been in Your Shoes</h1>
      <p class="text-xl text-slate-600 leading-relaxed max-w-2xl mx-auto">
        Unicalibre was founded to bridge the gap between "rough estimates" and "install-ready precision."
      </p>
    </div>
  </section>

  <!-- Founder Story -->
  <section class="py-24">
    <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-16 items-center">
        <div class="relative">
          <div class="aspect-[4/5] bg-slate-200 rounded-lg overflow-hidden">
            <img src="/images/video-thumb.png" alt="Founder" class="w-full h-full object-cover grayscale" loading="lazy" width="480" height="600" />
          </div>
          <div class="absolute -bottom-6 -right-6 w-48 h-48 bg-primary/10 -z-10 rounded-full"></div>
          <div class="absolute -top-6 -left-6 w-32 h-32 border-2 border-primary/20 -z-10 rounded-lg"></div>
        </div>
        <div class="space-y-6">
          <h2 class="text-3xl font-bold text-slate-900">The Story</h2>
          <div class="text-lg text-slate-600 space-y-4">
            <p>
              Estimating shouldn't be a guessing game. But for too many contractors, it is.
              After years in the construction industry, I saw the same problems over and over:
              scope gaps, missed deadlines, and profits bleeding out through bad waste calculations.
            </p>
            <p>
              I started Unicalibre with a simple mission: to provide the kind of takeoffs I wished I had when I was bidding work.
              Takeoffs that are detailed, transparent, and accurate enough to order material from.
            </p>
            <p>
              Today, we support contractors across North America, acting as the estimating department they always needed but couldn't justify hiring in-house.
            </p>
          </div>
          <div class="pt-6">
            <div class="text-xl font-bold text-slate-900">Founder Name</div>
            <div class="text-primary font-medium">Founder, Unicalibre Estimating</div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Team (from Sanity) -->
  {authors.length > 0 && (
    <section class="py-24 bg-white">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <h2 class="text-3xl font-bold text-slate-900 mb-12 text-center">Our Team</h2>
        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-5xl mx-auto">
          {authors.map((author: any) => (
            <div class="glass-panel rounded-xl p-8 text-center hover:shadow-md transition-all">
              {author.image && (
                <img
                  src={urlFor(author.image).width(160).height(160).url()}
                  alt={author.name}
                  class="w-24 h-24 rounded-full mx-auto mb-4 object-cover ring-4 ring-primary/10"
                  loading="lazy"
                  width="96"
                  height="96"
                />
              )}
              <h3 class="text-lg font-heading font-bold text-slate-900">{author.name}</h3>
              {author.role && (
                <p class="text-slate-500 text-sm mt-1">{author.role}</p>
              )}
            </div>
          ))}
        </div>
      </div>
    </section>
  )}

  <!-- Mission & Standard -->
  <section class="py-24 bg-primary text-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-12">
        <div class="bg-white/10 backdrop-blur-sm p-10 rounded-2xl border border-white/20">
          <h3 class="text-2xl font-bold mb-4 text-white">Our Mission</h3>
          <p class="text-lg text-white/90 leading-relaxed">
            To empower contractors to bid with confidence, knowing their numbers are solid, their scope is covered, and their margins are protected.
          </p>
        </div>
        <div class="bg-white/10 backdrop-blur-sm p-10 rounded-2xl border border-white/20">
          <h3 class="text-2xl font-bold mb-4 text-white">Our Standard</h3>
          <p class="text-lg text-white/90 leading-relaxed">
            If we wouldn't bid it with our own money, we don't send it to you. Every number is checked, every assumption is noted, and every detail matters.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA -->
  <section class="py-24 text-center">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-3xl font-bold text-slate-900 mb-8">Ready to upgrade your estimating?</h2>
      <QuoteModal client:load web3formsKey={web3formsKey} />
    </div>
  </section>
</Layout>
